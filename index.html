<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90症状自评量表 - 专业心理健康测评</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a6fa5;
            --primary-light: #6b8cbc;
            --secondary: #6c63ff;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --border-radius: 8px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 0;
        }
        
        .navbar {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }
        
        .nav-links a:hover {
            opacity: 0.8;
        }
        
        .container {
            max-width: 1200px;
            margin: 30px auto;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 36px;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .description {
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
            opacity: 0.9;
        }
        
        .progress-container {
            padding: 15px 30px;
            background-color: var(--light);
            border-bottom: 1px solid #eaeaea;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--secondary));
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 14px;
            color: var(--gray);
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .intro-section {
            text-align: center;
        }
        
        .intro-icon {
            font-size: 80px;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .intro-text {
            max-width: 800px;
            margin: 0 auto 30px;
            font-size: 18px;
            color: var(--gray);
            text-align: left;
            line-height: 1.8;
        }
        
        .guidelines {
            background-color: #f0f8ff;
            border-left: 4px solid var(--primary);
            padding: 25px;
            border-radius: 4px;
            margin: 25px 0;
            text-align: left;
        }
        
        .guidelines h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .guidelines ul {
            padding-left: 20px;
        }
        
        .guidelines li {
            margin-bottom: 10px;
        }
        
        .disclaimer {
            background-color: #fff9e6;
            border-left: 4px solid var(--warning);
            padding: 25px;
            border-radius: 4px;
            margin-top: 25px;
            font-size: 16px;
        }
        
        .disclaimer strong {
            color: var(--warning);
        }
        
        .question-section .question {
            margin-bottom: 30px;
            padding: 25px;
            background-color: var(--light);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
        }
        
        .question-text {
            font-weight: 600;
            margin-bottom: 20px;
            font-size: 18px;
            color: var(--dark);
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .option {
            flex: 1;
            min-width: 120px;
        }
        
        .option input {
            display: none;
        }
        
        .option label {
            display: block;
            padding: 14px 15px;
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .option input:checked + label {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 10px rgba(108, 92, 231, 0.3);
        }
        
        .option label:hover {
            background-color: #f0f0ff;
            border-color: var(--primary-light);
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 14px 28px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #prev-btn {
            background-color: #f0f0f0;
            color: var(--dark);
        }
        
        #next-btn, #submit-btn, #start-btn {
            background-color: var(--primary);
            color: white;
        }
        
        #restart-btn {
            background-color: var(--secondary);
            color: white;
        }
        
        #print-btn {
            background-color: var(--success);
            color: white;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }
        
        button:disabled {
            background-color: #cccccc;
            color: #999;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-section {
            padding: 20px;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .result-header h2 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .score-display {
            text-align: center;
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .score-value {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary);
            margin: 15px 0;
        }
        
        .score-interpretation {
            font-size: 20px;
            font-weight: 600;
            margin: 15px 0;
            padding: 12px 20px;
            border-radius: 30px;
            display: inline-block;
        }
        
        .dimension-analysis {
            margin: 30px 0;
        }
        
        .dimension {
            margin-bottom: 25px;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--primary);
        }
        
        .dimension-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .dimension-title {
            font-weight: 600;
            color: var(--primary);
            font-size: 18px;
        }
        
        .dimension-score {
            color: var(--secondary);
            font-weight: 600;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--secondary));
            border-radius: 5px;
        }
        
        .dimension-desc {
            font-size: 14px;
            color: var(--gray);
            margin-top: 10px;
        }
        
        .recommendation {
            margin-top: 30px;
            padding: 25px;
            background-color: #e8f4fd;
            border-radius: var(--border-radius);
            border-left: 4px solid #4a90e2;
        }
        
        .recommendation h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .recommendation-list {
            padding-left: 20px;
        }
        
        .recommendation-list li {
            margin-bottom: 12px;
            line-height: 1.5;
        }
        
        .resources {
            margin-top: 30px;
            padding: 25px;
            background-color: #f9f9ff;
            border-radius: var(--border-radius);
        }
        
        .resources h3 {
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .resource-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .resource {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .resource:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .resource h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .scientific-basis {
            margin-top: 30px;
            padding: 20px;
            background-color: #f0f0f0;
            border-radius: var(--border-radius);
            font-size: 14px;
            color: var(--gray);
        }
        
        .footer-note {
            margin-top: 30px;
            text-align: center;
            font-size: 14px;
            color: var(--gray);
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
        }
        
        .footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 20px;
            margin-top: 50px;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 30px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            color: var(--primary-light);
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section li {
            margin-bottom: 10px;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #aaa;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 15px;
            }
            
            .content {
                padding: 20px;
            }
            
            .options {
                flex-direction: column;
            }
            
            .option {
                min-width: 100%;
            }
            
            .resource-list {
                flex-direction: column;
            }
            
            button {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .nav-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                gap: 15px;
            }
        }
        
        @media print {
            .navbar, .buttons, .footer {
                display: none;
            }
            
            .container {
                box-shadow: none;
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>SCL-90测评</span>
            </div>
            <div class="nav-links">
                <a href="#home">首页</a>
                <a href="#about">关于量表</a>
                <a href="#contact">联系我们</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <header>
            <h1>SCL-90症状自评量表</h1>
            <p class="description">专业心理健康测评工具 | 基于Derogatis症状自评量表修订</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            <div class="progress-text">
                <span>进度</span>
                <span id="progress-text">0%</span>
            </div>
        </div>
        
        <div class="content">
            <!-- 介绍部分 -->
            <div class="section active" id="intro-section">
                <div class="intro-section">
                    <div class="intro-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h2>欢迎使用SCL-90症状自评量表</h2>
                    <p class="intro-text">SCL-90症状自评量表是世界上最著名的心理健康测试量表之一，从感觉、情感、思维、意识、行为直至生活习惯、人际关系、饮食睡眠等多种角度，评定一个人是否有某种心理症状及其严重程度如何。</p>
                    
                    <div class="guidelines">
                        <h3><i class="fas fa-info-circle"></i> 使用说明</h3>
                        <ul>
                            <li>本量表包含90个项目，涵盖10个心理症状因子</li>
                            <li>请仔细阅读每一条，然后根据最近一星期以内您的实际感觉，选择最符合的选项</li>
                            <li>答案没有对错之分，请根据第一反应作答，无需过多思考</li>
                            <li>完成全部题目大约需要15-20分钟</li>
                            <li>所有数据仅用于生成报告，不会被保存或上传</li>
                        </ul>
                    </div>
                    
                    <div class="disclaimer">
                        <p><strong>重要提示：</strong> 本测评工具仅用于自我评估和心理健康教育目的，不能替代专业心理诊断或治疗。如果您有严重的心理困扰或自杀念头，请立即寻求专业心理咨询师或精神科医生的帮助。</p>
                    </div>
                    
                    <button id="start-btn">
                        <i class="fas fa-play-circle"></i> 开始测评
                    </button>
                </div>
            </div>
            
            <!-- 问题部分 -->
            <div class="section" id="question-section">
                <!-- 问题将通过JavaScript动态生成 -->
            </div>
            
            <!-- 结果部分 -->
            <div class="section" id="result-section">
                <!-- 结果将通过JavaScript动态生成 -->
            </div>
            
            <!-- 按钮区域 -->
            <div class="buttons" id="button-section">
                <button id="prev-btn" disabled>
                    <i class="fas fa-arrow-left"></i> 上一题
                </button>
                <button id="next-btn">
                    下一题 <i class="fas fa-arrow-right"></i>
                </button>
                <button id="submit-btn" style="display: none;">
                    <i class="fas fa-chart-bar"></i> 查看结果
                </button>
                <button id="restart-btn" style="display: none;">
                    <i class="fas fa-redo"></i> 重新测评
                </button>
                <button id="print-btn" style="display: none;">
                    <i class="fas fa-print"></i> 打印报告
                </button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>关于我们</h3>
                <p>我们致力于提供专业的心理健康测评工具，帮助用户了解自己的心理状态，并提供科学的改善建议。</p>
            </div>
            <div class="footer-section">
                <h3>快速链接</h3>
                <ul>
                    <li><a href="#home">首页</a></li>
                    <li><a href="#about">关于量表</a></li>
                    <li><a href="#privacy">隐私政策</a></li>
                    <li><a href="#terms">使用条款</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>联系我们</h3>
                <ul>
                    <li><i class="fas fa-envelope"></i> contact@example.com</li>
                    <li><i class="fas fa-phone"></i> 400-123-4567</li>
                    <li><i class="fas fa-map-marker-alt"></i> 北京市朝阳区xxx街道</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 SCL-90症状自评量表测评工具. 保留所有权利.</p>
        </div>
    </footer>

    <script>
        // SCL-90测评问题数据 - 基于Derogatis症状自评量表
        const questions = [
            { id: 1, text: "头痛", dimension: "somatization" },
            { id: 2, text: "神经过敏，心中不踏实", dimension: "anxiety" },
            { id: 3, text: "头脑中有不必要的想法或字句盘旋", dimension: "obsessive_compulsive" },
            { id: 4, text: "头昏或昏倒", dimension: "somatization" },
            { id: 5, text: "对异性的兴趣减退", dimension: "depression" },
            { id: 6, text: "对旁人责备求全", dimension: "interpersonal_sensitivity" },
            { id: 7, text: "感到别人能控制您的思想", dimension: "psychoticism" },
            { id: 8, text: "责怪别人制造麻烦", dimension: "hostility" },
            { id: 9, text: "忘记性大", dimension: "obsessive_compulsive" },
            { id: 10, text: "担心自己的衣饰整齐及仪态的端正", dimension: "obsessive_compulsive" },
            { id: 11, text: "容易烦恼和激动", dimension: "hostility" },
            { id: 12, text: "胸痛", dimension: "somatization" },
            { id: 13, text: "害怕空旷的场所或街道", dimension: "phobic_anxiety" },
            { id: 14, text: "感到自己的精力下降，活动减慢", dimension: "depression" },
            { id: 15, text: "想结束自己的生命", dimension: "depression" },
            { id: 16, text: "听到旁人听不到的声音", dimension: "psychoticism" },
            { id: 17, text: "发抖", dimension: "anxiety" },
            { id: 18, text: "感到大多数人都不可信任", dimension: "paranoid_ideation" },
            { id: 19, text: "胃口不好", dimension: "additional" },
            { id: 20, text: "容易哭泣", dimension: "depression" },
            { id: 21, text: "同异性相处时感到害羞不自在", dimension: "interpersonal_sensitivity" },
            { id: 22, text: "感到受骗，中了圈套或有人想抓住您", dimension: "paranoid_ideation" },
            { id: 23, text: "无缘无故地突然感到害怕", dimension: "anxiety" },
            { id: 24, text: "自己不能控制地大发脾气", dimension: "hostility" },
            { id: 25, text: "怕单独出门", dimension: "phobic_anxiety" },
            { id: 26, text: "经常责怪自己", dimension: "depression" },
            { id: 27, text: "腰痛", dimension: "somatization" },
            { id: 28, text: "感到难以完成任务", dimension: "obsessive_compulsive" },
            { id: 29, text: "感到孤独", dimension: "depression" },
            { id: 30, text: "感到苦闷", dimension: "depression" },
            { id: 31, text: "过分担忧", dimension: "anxiety" },
            { id: 32, text: "对事物不感兴趣", dimension: "depression" },
            { id: 33, text: "感到害怕", dimension: "anxiety" },
            { id: 34, text: "您的感情容易受到伤害", dimension: "interpersonal_sensitivity" },
            { id: 35, text: "旁人能知道您的私下想法", dimension: "psychoticism" },
            { id: 36, text: "感到别人不理解您、不同情愫您", dimension: "interpersonal_sensitivity" },
            { id: 37, text: "感到人们对您不友好，不喜欢您", dimension: "interpersonal_sensitivity" },
            { id: 38, text: "做事必须做得很慢以保证做得正确", dimension: "obsessive_compulsive" },
            { id: 39, text: "心跳得很厉害", dimension: "anxiety" },
            { id: 40, text: "恶心或胃部不舒服", dimension: "somatization" },
            { id: 41, text: "感到比不上他人", dimension: "interpersonal_sensitivity" },
            { id: 42, text: "肌肉酸痛", dimension: "somatization" },
            { id: 43, text: "感到有人在监视您、谈论您", dimension: "paranoid_ideation" },
            { id: 44, text: "难以入睡", dimension: "additional" },
            { id: 45, text: "做事必须反复检查", dimension: "obsessive_compulsive" },
            { id: 46, text: "难以作出决定", dimension: "obsessive_compulsive" },
            { id: 47, text: "怕乘电车、公共汽车、地铁或火车", dimension: "phobic_anxiety" },
            { id: 48, text: "呼吸有困难", dimension: "somatization" },
            { id: 49, text: "一阵阵发冷或发热", dimension: "somatization" },
            { id: 50, text: "因为感到害怕而避开某些东西、场合或活动", dimension: "phobic_anxiety" },
            { id: 51, text: "脑子变空了", dimension: "obsessive_compulsive" },
            { id: 52, text: "身体发麻或刺痛", dimension: "somatization" },
            { id: 53, text: "喉咙有梗塞感", dimension: "somatization" },
            { id: 54, text: "感到前途没有希望", dimension: "depression" },
            { id: 55, text: "不能集中注意力", dimension: "obsessive_compulsive" },
            { id: 56, text: "感到身体的某一部分软弱无力", dimension: "somatization" },
            { id: 57, text: "感到紧张或容易紧张", dimension: "anxiety" },
            { id: 58, text: "感到手或脚发重", dimension: "somatization" },
            { id: 59, text: "想到死亡的事", dimension: "additional" },
            { id: 60, text: "吃得太多", dimension: "additional" },
            { id: 61, text: "当别人看着您或谈论您时感到不自在", dimension: "interpersonal_sensitivity" },
            { id: 62, text: "有一些不属于您自己的想法", dimension: "psychoticism" },
            { id: 63, text: "有想打人或伤害他人的冲动", dimension: "hostility" },
            { id: 64, text: "醒得太早", dimension: "additional" },
            { id: 65, text: "必须反复洗手、点数目或触摸某些东西", dimension: "obsessive_compulsive" },
            { id: 66, text: "睡得不稳不深", dimension: "additional" },
            { id: 67, text: "有想摔坏或破坏东西的冲动", dimension: "hostility" },
            { id: 68, text: "有一些别人没有的想法或念头", dimension: "paranoid_ideation" },
            { id: 69, text: "感到对别人神经过敏", dimension: "interpersonal_sensitivity" },
            { id: 70, text: "在商店或电影院等人多的地方感到不自在", dimension: "phobic_anxiety" },
            { id: 71, text: "感到任何事情都很困难", dimension: "depression" },
            { id: 72, text: "一阵阵恐惧或惊恐", dimension: "anxiety" },
            { id: 73, text: "感到在公共场合吃东西很不舒服", dimension: "interpersonal_sensitivity" },
            { id: 74, text: "经常与人争论", dimension: "hostility" },
            { id: 75, text: "单独一人时神经很紧张", dimension: "phobic_anxiety" },
            { id: 76, text: "别人对您的成绩没有作出恰当的评价", dimension: "paranoid_ideation" },
            { id: 77, text: "即使和别人在一起也感到孤单", dimension: "psychoticism" },
            { id: 78, text: "感到坐立不安心神不定", dimension: "anxiety" },
            { id: 79, text: "感到自己没有什么价值", dimension: "depression" },
            { id: 80, text: "感到熟悉的东西变成陌生或不像是真的", dimension: "psychoticism" },
            { id: 81, text: "大叫或摔东西", dimension: "hostility" },
            { id: 82, text: "害怕会在公共场合昏倒", dimension: "phobic_anxiety" },
            { id: 83, text: "感到别人想占您的便宜", dimension: "paranoid_ideation" },
            { id: 84, text: "为一些有关性的想法而很苦恼", dimension: "psychoticism" },
            { id: 85, text: "您认为应该因为自己的过错而受到惩罚", dimension: "psychoticism" },
            { id: 86, text: "感到要很快把事情做完", dimension: "anxiety" },
            { id: 87, text: "感到自己的身体有严重问题", dimension: "psychoticism" },
            { id: 88, text: "从未感到和其他人很亲近", dimension: "psychoticism" },
            { id: 89, text: "感到自己有罪", dimension: "additional" },
            { id: 90, text: "感到自己的脑子有毛病", dimension: "psychoticism" }
        ];

        // 维度定义
        const dimensions = {
            somatization: { 
                name: "躯体化", 
                description: "反映主观的身体不适感，包括心血管、胃肠道、呼吸等系统的主诉不适，以及头痛、背痛、肌肉酸痛等躯体表现",
                items: [1,4,12,27,40,42,48,49,52,53,56,58],
                maxScore: 48
            },
            obsessive_compulsive: { 
                name: "强迫症状", 
                description: "主要指那些明知没有必要，但又无法摆脱的无意义的思想、冲动和行为",
                items: [3,9,10,28,38,45,46,51,55,65],
                maxScore: 40
            },
            interpersonal_sensitivity: { 
                name: "人际关系敏感", 
                description: "反映人际交往中的自卑感、心神不宁、明显不自在、以及人际交流中的自我意识、消极期待",
                items: [6,21,34,36,37,41,61,69,73],
                maxScore: 36
            },
            depression: { 
                name: "抑郁", 
                description: "反映与临床上抑郁症状群相联系的广泛概念，忧郁苦闷的感情和心境是代表性症状",
                items: [5,14,15,20,22,26,29,30,31,32,54,71,79],
                maxScore: 52
            },
            anxiety: { 
                name: "焦虑", 
                description: "反映与临床上焦虑症状群相联系的精神症状及体验，一般指那些无法静息、神经过敏、紧张以及由此产生的躯体征象",
                items: [2,17,23,33,39,57,72,78,80,86],
                maxScore: 40
            },
            hostility: { 
                name: "敌对", 
                description: "主要从思想、感情及行为三个方面来反映敌对的表现",
                items: [11,24,63,67,74,81],
                maxScore: 24
            },
            phobic_anxiety: { 
                name: "恐怖", 
                description: "反映对孤独、公共场合、交通工具和人群的恐惧，以及社交恐怖等",
                items: [13,25,47,50,70,75,82],
                maxScore: 28
            },
            paranoid_ideation: { 
                name: "偏执", 
                description: "主要指思维方面，如投射性思维、敌对、猜疑、关系观念、妄想、被动体验和夸大等",
                items: [8,18,43,68,76,83],
                maxScore: 24
            },
            psychoticism: { 
                name: "精神病性", 
                description: "反映各式各样的急性症状和行为，限定不严的精神病性过程的指征",
                items: [7,16,35,62,77,84,85,87,88,90],
                maxScore: 40
            },
            additional: { 
                name: "其他", 
                description: "主要反映睡眠及饮食情况",
                items: [19,44,59,60,64,66,89],
                maxScore: 28
            }
        };

        // 用户答案存储
        let userAnswers = {};
        let currentQuestionIndex = 0;

        // DOM元素
        const introSection = document.getElementById('intro-section');
        const questionSection = document.getElementById('question-section');
        const resultSection = document.getElementById('result-section');
        const buttonSection = document.getElementById('button-section');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const printBtn = document.getElementById('print-btn');

        // 初始化测评
        function initializeAssessment() {
            // 重置状态
            userAnswers = {};
            currentQuestionIndex = 0;
            
            // 更新进度条
            updateProgress();
            
            // 隐藏介绍部分，显示问题部分
            introSection.classList.remove('active');
            questionSection.classList.add('active');
            
            // 渲染第一个问题
            renderQuestion(currentQuestionIndex);
            updateButtons();
        }

        // 渲染当前问题
        function renderQuestion(index) {
            const question = questions[index];
            
            let optionsHTML = '';
            const options = [
                { text: "没有", value: 0 },
                { text: "很轻", value: 1 },
                { text: "中等", value: 2 },
                { text: "偏重", value: 3 },
                { text: "严重", value: 4 }
            ];
            
            options.forEach((option, i) => {
                const isChecked = userAnswers[question.id] === option.value ? 'checked' : '';
                optionsHTML += `
                    <div class="option">
                        <input type="radio" id="q${question.id}_opt${i}" name="question_${question.id}" value="${option.value}" ${isChecked}>
                        <label for="q${question.id}_opt${i}">${option.text}</label>
                    </div>
                `;
            });
            
            questionSection.innerHTML = `
                <div class="question">
                    <div class="question-text">${question.id}. ${question.text}</div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                </div>
            `;
            
            // 添加事件监听器
            document.querySelectorAll(`input[name="question_${question.id}"]`).forEach(input => {
                input.addEventListener('change', function() {
                    userAnswers[question.id] = parseInt(this.value);
                    updateButtons();
                });
            });
        }

        // 更新进度条
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${Math.round(progress)}%`;
        }

        // 更新按钮状态
        function updateButtons() {
            // 上一题按钮
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // 下一题和提交按钮
            const isLastQuestion = currentQuestionIndex === questions.length - 1;
            const isCurrentAnswered = userAnswers[questions[currentQuestionIndex].id] !== undefined;
            
            if (isLastQuestion) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
                submitBtn.disabled = !isCurrentAnswered;
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
                nextBtn.disabled = !isCurrentAnswered;
            }
        }

        // 计算得分和生成报告
        function calculateResults() {
            // 计算总分
            let totalScore = 0;
            Object.values(userAnswers).forEach(score => {
                totalScore += score;
            });
            
            // 计算阳性项目数（得分≥2的项目）
            let positiveItems = 0;
            Object.values(userAnswers).forEach(score => {
                if (score >= 2) positiveItems++;
            });
            
            // 计算阳性症状均分
            const positiveSymptomAverage = positiveItems > 0 ? totalScore / positiveItems : 0;
            
            // 计算各维度得分
            const dimensionScores = {};
            Object.keys(dimensions).forEach(dimKey => {
                let dimScore = 0;
                dimensions[dimKey].items.forEach(itemId => {
                    if (userAnswers[itemId] !== undefined) {
                        dimScore += userAnswers[itemId];
                    }
                });
                
                // 计算维度均分（该维度总分/项目数）
                const dimensionAverage = dimensions[dimKey].items.length > 0 ? 
                    dimScore / dimensions[dimKey].items.length : 0;
                
                dimensionScores[dimKey] = {
                    score: dimScore,
                    maxScore: dimensions[dimKey].maxScore,
                    average: dimensionAverage,
                    items: dimensions[dimKey].items.length,
                    percentage: Math.round((dimScore / dimensions[dimKey].maxScore) * 100)
                };
            });
            
            // 生成总体解释和建议
            const interpretation = getTotalInterpretation(totalScore, positiveSymptomAverage);
            const recommendations = generateRecommendations(dimensionScores, totalScore);
            
            return {
                totalScore,
                positiveItems,
                positiveSymptomAverage,
                interpretation,
                dimensionScores,
                recommendations
            };
        }

        // 获取总体解释
        function getTotalInterpretation(totalScore, positiveSymptomAverage) {
            // 根据SCL-90常模，总分超过160分或阳性项目数超过43项，或任一因子分超过2分，可考虑筛查阳性
            if (totalScore > 160 || positiveSymptomAverage > 2) {
                return {
                    level: "症状明显",
                    description: "您的测评结果显示可能存在明显的心理症状。建议您寻求专业心理咨询师或精神科医生的进一步评估和帮助。",
                    color: "var(--danger)"
                };
            } else if (totalScore > 120) {
                return {
                    level: "轻度症状",
                    description: "您的测评结果显示存在一些心理症状，但程度较轻。建议您关注自己的心理健康状况，适当调整生活方式，如有需要可寻求专业帮助。",
                    color: "var(--warning)"
                };
            } else {
                return {
                    level: "正常范围",
                    description: "您的测评结果在正常范围内。请继续保持良好的心理状态和健康的生活方式。",
                    color: "var(--success)"
                };
            }
        }

        // 生成个性化建议
        function generateRecommendations(dimensionScores, totalScore) {
            const recommendations = [];
            
            // 总体建议
            if (totalScore > 160) {
                recommendations.push({
                    title: "专业帮助",
                    content: "鉴于您的测评结果，强烈建议您寻求专业心理咨询师或精神科医生的评估和帮助。专业的心理治疗和必要的药物治疗可以有效缓解症状。"
                });
            } else if (totalScore > 120) {
                recommendations.push({
                    title: "心理健康关注",
                    content: "您目前存在一些心理困扰，建议您学习一些压力管理和情绪调节技巧，如正念冥想、放松训练等。如果症状持续或加重，请考虑专业帮助。"
                });
            }
            
            // 各维度建议
            Object.keys(dimensionScores).forEach(dimKey => {
                const score = dimensionScores[dimKey];
                
                if (score.average > 2) {
                    let content = "";
                    switch(dimKey) {
                        case "somatization":
                            content = "您的躯体化症状较为明显。建议：进行全面的身体检查排除器质性疾病，学习放松技巧如深呼吸、渐进式肌肉放松，练习正念冥想，适当进行体育锻炼。";
                            break;
                        case "obsessive_compulsive":
                            content = "您的强迫症状较为明显。建议：尝试认知行为疗法中的暴露与反应阻止技术，学习接纳与承诺疗法，练习正念冥想，减少完美主义倾向。";
                            break;
                        case "interpersonal_sensitivity":
                            content = "您的人际关系敏感度较高。建议：练习社交技能，参加社交活动，学习自我肯定训练，挑战负面自我认知，建立健康的社交边界。";
                            break;
                        case "depression":
                            content = "您的抑郁症状较为明显。建议：保持规律作息，增加户外活动和体育锻炼，培养兴趣爱好，建立支持系统，考虑认知行为疗法。";
                            break;
                        case "anxiety":
                            content = "您的焦虑症状较为明显。建议：练习放松技巧如深呼吸、渐进式肌肉放松，减少咖啡因摄入，学习问题解决技巧，练习正念冥想。";
                            break;
                        case "hostility":
                            content = "您的敌对情绪较为明显。建议：学习情绪管理技巧，练习愤怒管理，学习有效沟通技巧，增加体育活动以释放能量。";
                            break;
                        case "phobic_anxiety":
                            content = "您的恐怖症状较为明显。建议：尝试系统脱敏疗法，学习放松技巧，逐步面对恐惧情境，寻求专业暴露治疗。";
                            break;
                        case "paranoid_ideation":
                            content = "您的偏执思维较为明显。建议：练习现实检验技巧，学习信任建立，挑战非理性信念，考虑认知行为疗法。";
                            break;
                        case "psychoticism":
                            content = "您的精神病性症状较为明显。建议：立即寻求专业精神科医生的评估和治疗，可能需要药物治疗配合心理治疗。";
                            break;
                        case "additional":
                            content = "您的睡眠和饮食问题较为明显。建议：建立规律的睡眠习惯，避免睡前使用电子设备，均衡饮食，限制咖啡因和酒精摄入。";
                            break;
                    }
                    
                    recommendations.push({
                        title: dimensions[dimKey].name,
                        content: content
                    });
                }
            });
            
            // 通用建议
            recommendations.push({
                title: "生活方式调整",
                content: "保持规律作息，均衡饮食，适量运动，保证充足睡眠，培养兴趣爱好，维持社交联系，学习压力管理技巧。"
            });
            
            return recommendations;
        }

        // 显示结果
        function displayResults() {
            const results = calculateResults();
            
            // 生成维度分析HTML
            let dimensionHTML = '';
            Object.keys(results.dimensionScores).forEach(dimKey => {
                const dim = dimensions[dimKey];
                const score = results.dimensionScores[dimKey];
                
                dimensionHTML += `
                    <div class="dimension">
                        <div class="dimension-header">
                            <div class="dimension-title">${dim.name}</div>
                            <div class="dimension-score">${score.average.toFixed(2)}</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: ${score.percentage}%"></div>
                        </div>
                        <div class="dimension-desc">${dim.description}</div>
                    </div>
                `;
            });
            
            // 生成建议HTML
            let recommendationHTML = '';
            results.recommendations.forEach(rec => {
                recommendationHTML += `
                    <div class="recommendation">
                        <h3><i class="fas fa-lightbulb"></i> ${rec.title}</h3>
                        <p>${rec.content}</p>
                    </div>
                `;
            });
            
            resultSection.innerHTML = `
                <div class="result-header">
                    <h2>您的SCL-90测评结果</h2>
                    <p>基于您的回答，以下是详细的分析和建议</p>
                </div>
                
                <div class="score-display">
                    <div>总分: ${results.totalScore} | 阳性项目数: ${results.positiveItems} | 阳性症状均分: ${results.positiveSymptomAverage.toFixed(2)}</div>
                    <div class="score-value">${results.totalScore}</div>
                    <div class="score-interpretation" style="color: ${results.interpretation.color}; background: ${results.interpretation.color}20; border: 1px solid ${results.interpretation.color}40;">
                        ${results.interpretation.level}
                    </div>
                    <div>${results.interpretation.description}</div>
                </div>
                
                <div class="dimension-analysis">
                    <h3>各因子分析</h3>
                    ${dimensionHTML}
                </div>
                
                <div class="recommendations">
                    <h3>专业建议</h3>
                    ${recommendationHTML}
                </div>
                
                <div class="resources">
                    <h3><i class="fas fa-hands-helping"></i> 心理资源推荐</h3>
                    <div class="resource-list">
                        <div class="resource">
                            <h4><i class="fas fa-book"></i> 自助阅读</h4>
                            <p>《伯恩斯新情绪疗法》、《应对焦虑》、《正念禅修》、《自卑与超越》</p>
                        </div>
                        <div class="resource">
                            <h4><i class="fas fa-mobile-alt"></i> 心理APP</h4>
                            <p>壹心理、简单心理、潮汐、Now正念冥想、Mindfulness</p>
                        </div>
                        <div class="resource">
                            <h4><i class="fas fa-user-md"></i> 专业帮助</h4>
                            <p>如有需要，可寻求注册心理咨询师或精神科医生的专业评估和治疗</p>
                        </div>
                    </div>
                </div>
                
                <div class="scientific-basis">
                    <h4>科学依据</h4>
                    <p>SCL-90症状自评量表由Derogatis于1975年编制，是国际上广泛使用的心理健康测评工具。该量表包含90个项目，涵盖10个症状因子：躯体化、强迫症状、人际关系敏感、抑郁、焦虑、敌对、恐怖、偏执、精神病性及其他。量表采用5级评分（0-4分），具有良好的信度和效度，广泛应用于临床实践和心理健康研究中。</p>
                </div>
                
                <div class="footer-note">
                    <p><strong>重要提示：</strong> 本测评工具仅用于自我评估和心理健康教育目的。如果您有自杀念头或严重的心理困扰，请立即拨打心理援助热线或寻求专业帮助。本测评结果不能替代专业诊断。</p>
                </div>
            `;
            
            // 显示结果部分，隐藏问题部分
            questionSection.classList.remove('active');
            resultSection.classList.add('active');
            
            // 更新按钮
            prevBtn.style.display = 'none';
            nextBtn.style.display = 'none';
            submitBtn.style.display = 'none';
            restartBtn.style.display = 'block';
            printBtn.style.display = 'block';
            
            // 滚动到顶部
            window.scrollTo(0, 0);
        }

        // 重新开始测评
        function restartAssessment() {
            // 重置状态
            userAnswers = {};
            currentQuestionIndex = 0;
            
            // 更新进度条
            updateProgress();
            
            // 隐藏结果部分，显示介绍部分
            resultSection.classList.remove('active');
            introSection.classList.add('active');
            
            // 更新按钮
            restartBtn.style.display = 'none';
            printBtn.style.display = 'none';
            prevBtn.style.display = 'block';
            nextBtn.style.display = 'block';
        }

        // 事件监听器
        startBtn.addEventListener('click', initializeAssessment);
        
        prevBtn.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion(currentQuestionIndex);
                updateProgress();
                updateButtons();
            }
        });

        nextBtn.addEventListener('click', function() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion(currentQuestionIndex);
                updateProgress();
                updateButtons();
            }
        });

        submitBtn.addEventListener('click', function() {
            displayResults();
        });

        restartBtn.addEventListener('click', function() {
            restartAssessment();
        });

        printBtn.addEventListener('click', function() {
            window.print();
        });
    </script>
</body>
</html>